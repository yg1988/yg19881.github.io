<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <title>ZenDrive Breath ‚Äî Virtual Driving Breathing Trainer</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#0f1217" />
  <meta name="description" id="meta-desc" content="Âú®ËôöÊãüÈ©æÈ©∂ËßÜÈ¢ëËÉåÊôØ‰∏ãËøõË°åÂëºÂê∏ËÆ≠ÁªÉÔºåÂ∏ÆÂä©ÊîæÊùæ‰∏é‰∏ìÊ≥®„ÄÇZenDrive Breath ÊîØÊåÅÂ§öÂüéÂ∏ÇË∑ØÁ∫ø‰∏éÂ§öÂëºÂê∏Á®ãÂ∫è„ÄÇ" />
  <meta name="keywords" id="meta-keywords" content="ÂëºÂê∏ËÆ≠ÁªÉ, ÊîæÊùæ, È©æÈ©∂, ÂÜ•ÊÉ≥, ZenDrive, breathing trainer, virtual driving" />
  <meta name="robots" content="index,follow" />
  <link rel="canonical" id="canonical" href="/" />
  <meta property="og:site_name" content="ZenDrive Breath" />
  <meta property="og:type" id="og-type" content="website" />
  <meta property="og:title" id="og-title" content="ZenDrive Breath ‚Äî Virtual Driving Breathing Trainer" />
  <meta property="og:description" id="og-desc" content="Âú®ËôöÊãüÈ©æÈ©∂ËßÜÈ¢ëËÉåÊôØ‰∏ãËøõË°åÂëºÂê∏ËÆ≠ÁªÉÔºåÂ∏ÆÂä©ÊîæÊùæ‰∏é‰∏ìÊ≥®„ÄÇ" />
  <meta property="og:image" id="og-image" content="" />
  <meta property="og:url" id="og-url" content="" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" id="tw-title" content="ZenDrive Breath ‚Äî Virtual Driving Breathing Trainer" />
  <meta name="twitter:description" id="tw-desc" content="ÂëºÂê∏ËÆ≠ÁªÉ‰∏éËôöÊãüÈ©æÈ©∂ÁöÑÁªìÂêàÔºåÂáèÂéã‰∏é‰∏ìÊ≥®„ÄÇ" />
  <meta name="twitter:image" id="tw-image" content="" />
  <link rel="preconnect" href="https://www.youtube.com" />
  <link rel="preconnect" href="https://i.ytimg.com" />
  <link rel="preconnect" href="https://img.youtube.com" />
  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect x='8' y='24' width='48' height='20' rx='8' ry='8' fill='%2358a6ff'/%3E%3Ccircle cx='20' cy='46' r='4' fill='%23c9d1d9'/%3E%3Ccircle cx='44' cy='46' r='4' fill='%23c9d1d9'/%3E%3Cpath d='M14 24l8-10h20l8 10' fill='%230b0e12'/%3E%3C/svg%3E" />
  <link rel="shortcut icon"
    href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Crect x='8' y='24' width='48' height='20' rx='8' ry='8' fill='%2358a6ff'/%3E%3Ccircle cx='20' cy='46' r='4' fill='%23c9d1d9'/%3E%3Ccircle cx='44' cy='46' r='4' fill='%23c9d1d9'/%3E%3Cpath d='M14 24l8-10h20l8 10' fill='%230b0e12'/%3E%3C/svg%3E" />
  <link rel="stylesheet" href="styles.css" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9191360240280193"
     crossorigin="anonymous"></script>
<body>
  <!-- (Removed duplicate Landing block; single instance appears later) -->

  <!-- (Removed duplicate Setup Wizard block; single instance appears later) -->

  <!-- (Removed duplicate Main App block; single instance appears later) -->

  

  <body>
    <!-- Landing Page -->
    <div id="landing" class="landing">
      <div class="landing-bg"></div>
      <div class="landing-content">
        <h1 class="brand-large">ZenDrive <span class="highlight">Breath</span></h1>
        <p class="tagline">Virtual Driving & Breathing Trainer</p>

        <div class="landing-actions">
          <button id="quickStartBtn" class="action-card">
            <div class="icon">üé≤</div>
            <div class="text">
              <h3>Quick Start</h3>
              <p>Random journey & breath pattern</p>
            </div>
          </button>

          <button id="customSetupBtn" class="action-card">
            <div class="icon">üõ†Ô∏è</div>
            <div class="text">
              <h3>Custom Setup</h3>
              <p>Configure your perfect session</p>
            </div>
          </button>
        </div>
        <div class="ad-wrap">
          <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-9191360240280193" data-ad-slot="0000000000" data-ad-format="auto" data-full-width-responsive="true"></ins>
          <script>(function(){var el=document.querySelector('.ad-wrap .adsbygoogle');var host=location.hostname;var isDev=host==='localhost'||host==='127.0.0.1'||location.protocol==='file:';var client=el.getAttribute('data-ad-client');var slot=el.getAttribute('data-ad-slot');var validClient=client&&client.indexOf('ca-pub-')===0&&client!=='ca-pub-0000000000000000';var validSlot=slot&&slot!=='0000000000';if(!isDev&&validClient&&validSlot){(adsbygoogle=window.adsbygoogle||[]).push({});}else{var w=el.parentElement;if(w)w.style.display='none';}})();</script>
        </div>
      </div>
    </div>

    <!-- Setup Wizard (Overlay) -->
    <div id="setupWizard" class="wizard-overlay">
      <div class="wizard-container">
        <div class="wizard-header">
          <h2>Customize Session</h2>
          <button id="closeWizardBtn" class="btn-icon">‚úñ</button>
        </div>

        <div class="wizard-steps">
          <!-- Step 1: Route -->
          <div class="step active" data-step="1">
            <h3>Step 1: Choose Route</h3>
            <div class="filters">
              <select id="wizardModeFilter">
                <option value="">All Modes</option>
                <option value="drive" selected>Drive</option>
                <option value="walk">Walk</option>
                <option value="cycle">Cycle</option>
                <option value="train">Train</option>
                <option value="drone">Drone</option>
              </select>
              <input id="wizardSearch" type="text" placeholder="Search city..." />
            </div>
            <ul id="wizardRouteList" class="route-list compact"></ul>
            <div class="step-actions">
              <button class="btn next-step-btn" disabled>Next ‚ûî</button>
            </div>
          </div>

          <!-- Step 2: Breathing -->
          <div class="step" data-step="2">
            <h3>Step 2: Breathing Pattern</h3>
            <div class="form-group">
              <label>Program</label>
              <select id="wizardBreathProgram"></select>
            </div>
            <div class="form-group">
              <label>Level</label>
              <select id="wizardBreathLevel"></select>
            </div>
            <div id="wizardBreathInfo" class="info-box"></div>
            <div class="step-actions">
              <button class="btn prev-step-btn">‚¨Ö Back</button>
              <button id="startSessionBtn" class="btn primary">Start Session üöÄ</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Main App (Playback) -->
    <main class="app-main">
      <header class="app-header">
        <div class="brand">
          <span class="logo">üöó</span>
          <span class="title">ZenDrive Breath</span>
        </div>
        <div class="header-actions">
          <button id="settingsBtn" class="btn-icon" aria-label="Settings">‚öôÔ∏è</button>
        </div>
      </header>

      <section class="player-section">
        <div id="playerContainer" class="player-container">
          <video id="videoPlayer" class="media" preload="auto" playsinline></video>
          <iframe id="youtubePlayer" class="media" frameborder="0"
            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
            allowfullscreen></iframe>
          <div id="placeholder" class="placeholder">Loading...</div>

        <!-- New Dashboard Widget -->
        <div id="dashboardWidget" class="dashboard-widget">
            <div class="gauge-container">
              <!-- SVG Gauge -->
              <svg class="gauge-svg" viewBox="0 0 200 100">
                <!-- Background Arc -->
                <path class="gauge-bg" d="M 20 100 A 80 80 0 0 1 180 100" fill="none" stroke="rgba(255,255,255,0.1)"
                  stroke-width="12" />
                <!-- Progress Arc (Dynamic) -->
                <path id="gaugeProgress" class="gauge-progress" d="M 20 100 A 80 80 0 0 1 180 100" fill="none"
                  stroke="#3fb950" stroke-width="12" stroke-dasharray="251.2" stroke-dashoffset="251.2" />
                <!-- Needle -->
                <g id="gaugeNeedle" class="gauge-needle" transform="rotate(0, 100, 100)">
                  <line x1="100" y1="100" x2="20" y2="100" stroke="#fff" stroke-width="2" />
                  <circle cx="100" cy="100" r="4" fill="#fff" />
                </g>
              </svg>

              <div class="dashboard-center">
                <div id="breathAction" class="action-text">READY</div>
                <div id="breathTimer" class="timer-text">0.0</div>
              </div>

              <div class="dashboard-labels">
                <span class="label-left">Start</span>
                <span class="label-right">End</span>
              </div>
            </div>

            <div class="dashboard-info">
              <span id="breathCycleInfo">Cycle 1/4</span>
            </div>
        </div>
        
        <!-- Settings Panel -->
        <div id="settingsPanel" class="settings-panel">
          <div class="settings-header">
            <div class="title">Settings</div>
            <button id="settingsCloseBtn" class="btn-icon">‚úñ</button>
          </div>
          <div class="settings-tabs">
            <button class="tab-btn active" data-tab="routes">Routes</button>
            <button class="tab-btn" data-tab="breathing">Breathing</button>
          </div>
          <div class="settings-body">
            <div class="tab routes-tab active">
              <div class="filters">
                <select id="settingsModeFilter">
                  <option value="">All Modes</option>
                  <option value="drive" selected>Drive</option>
                  <option value="walk">Walk</option>
                  <option value="cycle">Cycle</option>
                  <option value="train">Train</option>
                  <option value="drone">Drone</option>
                </select>
                <input id="settingsSearch" type="text" placeholder="Search city..." />
              </div>
              <ul id="settingsRouteList" class="route-list compact"></ul>
            </div>
            <div class="tab breathing-tab">
              <div class="form-group">
                <label>Program</label>
                <select id="settingsBreathProgram"></select>
              </div>
              <div class="form-group">
                <label>Level</label>
                <select id="settingsBreathLevel"></select>
              </div>
              <div id="settingsBreathInfo" class="info-box"></div>
            </div>
          </div>
        </div>
      </div>
    </section>
    </main>

    <!-- Hidden Audio -->
    <div id="audioContainer" style="display:none;"></div>

    <!-- Scripts -->
    <script>window.__BREATH_MODULE__ = { exports: {} }; var module = window.__BREATH_MODULE__;</script>
    <script src="src/data/breathing_data.js"></script>
    <script>window.BREATHING_PROGRAMS = (module && module.exports && module.exports.programs) || []; module = undefined;</script>
    <script src="src/data/videos.js"></script>
    <script src="src/app.js"></script>
  </body>

  </html>